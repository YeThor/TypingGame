# 단어 타이핑 게임

주어진 단어가 표시되면 input에 단어를 정해진 시간에 입력하는 게임

## 요구 사항

- 게임에 필요한 기능들
- 게임 화면과 완료 화면은 라우팅으로 이동 (라우팅 직접 구현)
- 단위 테스트 적용

## 해결전략

### 라우팅을 어떻게 구현할 것인가

> 요구사항:: 게임 화면과 완료 화면은 라우팅으로 이동 (직접 구현)

- 주소값에 따라 알맞는 컴포넌트(게임화면, 완료화면)를 그려주어야 한다
- vanilla JS로 라우팅을 구현하는 방법은 크게 2가지
  - History API를 이용한 라우팅
  - `window.location.hash` 값을 이용한 라우팅 :white_check_box:
- `window.location.hash`를 이용해 라우팅을 하자
  - url을 처리해줄 웹서버가 없는 정적인 페이지에 적합하다
  - 주소값에 따라 알맞는 컴포넌트를 그려야한다는 요구 사항을 만족한다
- 어떻게 구현할 것인가
  - 빈 해쉬값("#")일 때 게임 화면 렌더링
  - `#result`로 시작하는 해쉬값을 가질 때 결과 화면 렌더링
  - 결과화면에 필요한 데이터는 주소에 담아 보내준다
    - searchParams와 같은 형식으로 key - value 쌍을 보낸다
    - `#result?key1=value1&key2=value2`

### 게임 기능을 어떻게 구현할 것인가

> 요구사항:: 단어들을 차례대로 제한시간과 함께 표시하고, 초기화 기능을 지원

- 기획서에 있는 게임 기본 기능들을 구현해야 한다
- 고려해야할 사항
  - 초기화 기능이 있기 때문에 단어 배열을 보존하고 있어야 한다
  - 결과값에 필요한 총 점수와 평균값을 계산하기 위해서, 사용자가 인터랙션을 완료할 때마다 연관성이 높은 데이터와 함수를 함께 관리해야 한다
  - 외부 코드에서 라우팅에 따라 화면을 그려줄 수 있는 기능을 제공해야 한다
- 게임&결과 컴포넌트를 각각 Class로 만들어 각 기능에 필요한 데이터와 메소드를 관리한다
  - 게임 컴포넌트(Game)는 게임 진행에 필요한 데이터와 메소드를 가진다
    - 단어배열(words), 총 점수, 총 소요 시간, 남은 시간, 보여줘야 하는 단어의 인덱스, ...
  - 결과 컴포넌트(Result)는 결과값 표시에 필요한 데이터와 메소드를 가진다
    - 평균시간(average), 총 점수(score), ...
- 각 클래스는 자신의 고유 HTML 템플릿을 가지고, 외부 코드에서 이를 제공받아 DOM을 업데이트한다

  - [웹 컴포넌트](https://developer.mozilla.org/en-US/docs/Web/Web_Components)의 아이디어를 빌려오자
    - 고유한 HTML 템플릿과 행동 방식을 가짐
  - 읽기 전용 `rootElement` 프로퍼티를 외부에 제공

    - 서비스 코드단에서 `elem.appendChild(rootElement)` 등으로 화면을 그릴 수 있음
    - 게임 컴포넌트는 게임 화면과 관련된 모든 템플릿을 가지며,
    - 결과 컴포넌트는 결과 화면과 관련된 모든 템플릿을 가진다

      <img src="https://user-images.githubusercontent.com/22616716/111056278-1a50f580-84c1-11eb-9332-c66a7de56b38.png" >

## 안전한 코드를 어떻게 보장할 것인가

> 요구사항:: 단위테스트 적용

- 단위 테스트 프레임워크로 Mocha, Assertion 라이브러리로 Chai를 적용한다
  - 필요한 테스트 기능이 있다면 유연하게 플러그인을 추가 적용한다
- 모듈 별로 단위 테스트 코드를 만들고, 원본 코드와 동일한 레벨에 둔다
  - 함수나 클래스를 살펴보기 전에 `**.spec.ts` 를 보고 기능을 파악할 수 있다
- 정적 타입 시스템을 쓰기 위해 TypeScript를 사용한다
  - 동적 타입 언어가 가질 수 있는 잠재적인 에러를 컴파일 타임에 잡아낸다
  - 자동완성 기능으로 개발 효율성을 높인다
